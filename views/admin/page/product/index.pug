extends ../../layout/default.pug
include ../../mixins/fiterStatus.pug

block main 
    h1(class="mb-4") Danh Sách Sản Phẩm 
    //- bảng điểu Khiển 
    .card.mb-3  
        .card-header Bộ Lọc Và Tìm Kiếm 
        .card-body 
            .row 
                .col-6
                    +fiter-Status(fiterStatus)
                .col-6 
                    form(id="form-search")
                        .input-group
                            input(
                                type="text",
                                class="form-control",
                                placeholder="Nhập tên sản phẩm",
                                name="keyword"
                                value=keyw ord
                            )
                            .input-group-append
                                button(
                                    class="btn btn-success",
                                    type="submit"
                                ) Tìm 
                
    .card.mb-3 
        .card-header Danh Sách 
        .card-body 
            table.table.table-hover.table-sm 
                thead 
                    tr 
                        th STT 
                        th Hình Ảnh 
                        th Tiêu Đề
                        th Giá 
                        th Trạng Thái 
                        th Hành Động
                tbody
                    each item,index in products
                        tr 
                            td #{index + 1}
                            td 
                                img(
                                    src=item.thumbnail, 
                                    alt=item.title,
                                    width="100px",
                                    height="auto"
                                    )
                            td #{item.title}
                            td #{item.price}$
                            td  
                                if(item.status == "active")
                                    a(href="#" class="badge badge-success") Hoạt Động
                                else 
                                    a(href="#" class="badge badge-danger")  Dừng Hoạt Động
                            
                            td  
                                button(class="btn btn-warning btn-sm") Sửa
                                button(class="btn btn-danger btn-sm ml-1") Xóa
    //- div #{Pagination.totalPage}
    nav 
        ul(class="pagination")
            if(Pagination.currentpage > 1 ) 
                li(class="page-item") 
                    button(
                        class="page-link"
                        button-pagination= Pagination.currentpage - 1 
                        ) <i class="fa-solid fa-angles-left"></i>
            - for (var i =Math.max(1, Pagination.currentpage - 1 ) ;i <= Math.min(Pagination.totalPage,  Pagination.currentpage + 1 ); i++) 
                li(class=`page-item ${Pagination.currentpage == i ? "active" : ""}`) 
                    button(
                        class="page-link"
                        button-pagination=i
                        ) #{i}
            if(Pagination.currentpage < Pagination.totalPage)
                li(class="page-item") 
                    button(
                        class="page-link"
                        button-pagination= Pagination.currentpage + 1 
                        ) <i class="fa-solid fa-forward"></i>
